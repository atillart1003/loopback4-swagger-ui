<!-- HTML for static distribution bundle build -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link rel="stylesheet" type="text/css" href="./swagger-ui.css">
  <link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16" />
  <style>
    html {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }

    *,
    *:before,
    *:after {
      box-sizing: inherit;
    }

    body {
      margin: 0;
      background: #fafafa;
    }
  </style>
</head>

<body>
  <div id="swagger-ui"></div>

  <script src="./swagger-ui-bundle.js"> </script>
  <script src="./swagger-ui-standalone-preset.js"> </script>
  <script>
    window.onload = function () {
      var urlParams = new URLSearchParams(window.location.search);

      api_id = urlParams.get('api_id');
      stage = urlParams.get('stage');

      url_param = 'apis/' + api_id + '/' + stage;

      var urls_param = [{
        url: "./swagger/file/v1/user.json",
        name: "User"
      }, {
        url: "./swagger/file/v1/user.v2.json",
        name: "User V2"
      }, {
        url: "./swagger/file/v1/profile.json",
        // url: "../file/v1/profile.json",
        name: "Profile"
      }, {
        url: "https://petstore.swagger.io/v2/swagger.json",
        name: "Petstore"
      }];

      const ui = SwaggerUIBundle({
        url: url_param,
        urls: urls_param,
        dom_id: '#swagger-ui',
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset
        ],
        layout: "StandaloneLayout"
      })
      window.ui = ui;
    }

    // window.onload = function () {
    //   var url = window.location.search.match(/url=([^&]+)/);
    //   if (url && url.length > 1) {
    //     url = decodeURIComponent(url[1]);
    //   } else {
    //     url = undefined;
    //   }
    //   var urls = [{ "url": "/swg.v1/swagger/admin_swagger.json", "name": "admin API" }, { "url": "/swg.v1/swagger/authorize_swagger.json", "name": "authorize API" }, { "url": "/swg.v1/swagger/master_swagger.json", "name": "master API" }, { "url": "/swg.v1/swagger/gps_swagger.json", "name": "gps API" }, { "url": "/swg.v1/swagger/vehicle_swagger.json", "name": "vehicle API" }, { "url": "/swg.v1/swagger/driver_swagger.json", "name": "driver API" }, { "url": "/swg.v1/swagger/business_partner_swagger.json", "name": "business_partner API" }];

    //   const disableTryItOutPlugin = function () {
    //     return {
    //       statePlugins: {
    //         spec: {
    //           wrapSelectors: {
    //             allowTryItOutFor: function () {
    //               return function () {
    //                 return true;
    //               }
    //             }
    //           }
    //         }
    //       }
    //     }
    //   }

    //   // Build a system
    //   var ui = SwaggerUIBundle({
    //     url: url,
    //     urls: urls,
    //     validatorUrl: null,
    //     oauth2RedirectUrl: window.location.origin + "/swg.v1/swagger/oauth2-redirect.html",

    //     docExpansion: "none",
    //     operationsSorter: "none",
    //     defaultModelsExpandDepth: 1,
    //     defaultModelExpandDepth: 1,
    //     tagsSorter: "none",

    //     dom_id: '#swagger-ui',
    //     deepLinking: true,
    //     presets: [
    //       SwaggerUIBundle.presets.apis,
    //       SwaggerUIStandalonePreset
    //     ],
    //     plugins: [
    //       SwaggerUIBundle.plugins.DownloadUrl,
    //       disableTryItOutPlugin
    //     ],
    //     layout: "StandaloneLayout"
    //   });

    //   if ("client_id") {
    //     ui.initOAuth({
    //       clientId: "client_id",
    //       clientSecret: "client_secret",
    //       realm: "realm",
    //       appName: "app_name",
    //       scopeSeparator: " ",
    //       additionalQueryStringParams: {}
    //     });
    //   }

    //   window.ui = ui;
    // }

  </script>
</body>

</html>
